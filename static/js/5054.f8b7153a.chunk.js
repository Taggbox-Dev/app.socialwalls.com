"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[5054],{65054:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(65043),l=a(73216),n=a(35475),i=a(45248),c=a(62575),r=a(39062),d=a(10615),o=a(22166),h=a(58925),m=a(11391),f=a(22030),u=a(50912),Y=a(70579);const p=e=>{const t=(0,l.zy)();return(0,Y.jsx)(D,{location:t,...e})};class D extends s.Component{constructor(){super(...arguments),this.state={feed:[],wallID:null,updateFeedList:[],refreshing:!0,spece:"-"},this.changeFeedsFilters=e=>{const{analyticsStatus:t}=this.props;e.length>0&&this.setState({feed:e},(()=>this.props.updateSelectedFeed(this.state.feed,t.trialAccessAPI)))}}componentDidMount(){const{analyticwall:e,analyticsStatus:t}=this.props,{spece:a}=this.state;let s=[],l=0;e.selectedWallFeed&&Object.keys(e.selectedWallFeed).length>0&&e.selectedWallFeed&&e.selectedWallFeed.feeds.length>0&&(l=e.selectedWallFeed.wall.id,e.selectedWallFeed.feeds.map((e=>{s.push({value:e.id,label:(0,h.Ay)(`${e.Network.icon?(0,f.kX)(e.Network.icon):""}  ${(0,f.lI)(e.filterId)}  ${e.name}  ${e.filterIdName?a:""} ${e.filterIdName}`)})}))),this.setState({updateFeedList:s,wallID:l,feed:this.state.wallID!=l?s:this.state.feed},(()=>this.props.updateSelectedFeed(this.state.feed,t.trialAccessAPI)))}componentWillReceiveProps(e){const{analyticwall:t,wallRefresh:a}=e,{refreshing:s,spece:l}=this.state;let n=[],i=0;t.selectedWallFeed&&Object.keys(t.selectedWallFeed).length>0&&t.selectedWallFeed&&t.selectedWallFeed.feeds.length>0&&(i=t.selectedWallFeed.wall.id,t.selectedWallFeed.feeds.map((e=>{n.push({value:e.id,label:(0,h.Ay)(`${e.Network.icon?(0,f.kX)(e.Network.icon):""}  ${(0,f.lI)(e.filterId)}  ${e.name}  ${e.filterIdName?l:""} ${e.filterIdName}`)})}))),n!=this.state.updateFeedList&&a&&a.refreshing&&s?this.setState({updateFeedList:n,wallID:i,feed:n,refreshing:!1}):this.setState({updateFeedList:n,wallID:i,feed:this.state.wallID!=i?n:this.state.feed},(()=>setTimeout((()=>this.setState({refreshing:!0})),2e3)))}render(){const{updateFeedList:e,feed:t}=this.state;return(0,Y.jsx)("div",{className:"w-auto react-search-feed filter_btn_wrap",children:(0,Y.jsx)(m.A,{classNamePrefix:"check-feed",value:t,onChange:this.changeFeedsFilters,options:e})})}}const y=(0,o.Ng)((e=>({analyticwall:e.analyticwall,analyticsStatus:e.analyticsStatusD,wallRefresh:e.wallRefresh})),(e=>({activeTab:t=>e((0,u.Qe)(t)),updateSelectedFeed:(t,a)=>e((0,u.j1)(t,a))})))((0,s.memo)(p));var g=a(6061),x=(a(42425),a(90246)),M=a(86178),b=a.n(M);const v=e=>{const t=(0,l.zy)(),a=(0,o.wA)(),{analyticwall:h,analyticsStatus:m,pageRefresh:f,analytics_status_loader:p,getactiveTab:D}=(0,o.d4)((e=>{let{analyticwallD:t,analyticsStatusD:a,analyticsRecords:s}=e;return{analyticwall:t,analyticsStatus:a,pageRefresh:s.page_refresh,analytics_status_loader:s.analytics_status_loader,getactiveTab:s.activeTab}}),o.bN),M=h&&Object.keys(h).length>0?h.dateFilter:null;let v=M&&Object.keys(M).length>0&&M.startDate?M.startDate:b()().subtract(29,"days").format("DD-MM-YYYY"),w=M&&Object.keys(M).length>0&&M.endDate?M.endDate:b()().format("DD-MM-YYYY");const j=x.A.parse(t.search);j.startdate&&(v=b().unix(j.startdate).format("DD-MM-YYYY")),j.enddate&&(w=b().unix(j.enddate).format("DD-MM-YYYY"));const[N,F]=(0,s.useState)(v),[A,k]=(0,s.useState)(w),[I,S]=(0,s.useState)(b()().endOf("month").format("DD-MM-YYYY"));(0,s.useEffect)((()=>{a((0,u.Qe)(t.pathname))}),[]);return(0,Y.jsx)("div",{children:(0,Y.jsx)("div",{id:"sw_subheader",className:"subheader analytics_subheader",children:(0,Y.jsx)("div",{className:"container-fluid px-xl-5",children:(0,Y.jsxs)("div",{className:"row align-items-center justify-content-between py-3 flex-wrap",children:[(0,Y.jsx)("div",{className:"col-sm-4",children:(0,Y.jsx)("div",{className:"d-flex align-items-center flex-grow-1",children:(0,Y.jsxs)("ul",{className:"nav sw-anlts-nav-tabs",children:[(0,Y.jsx)("li",{className:"me-3",children:(0,Y.jsx)(n.N_,{to:`/analytic-new/${localStorage.getItem("wallId")}`,className:"nav-link "+(t.pathname.includes(localStorage.getItem("wallId"))?"active":""),children:"Content"})}),(0,Y.jsx)("li",{className:"me-3",children:(0,Y.jsx)(n.N_,{to:"/analytic-new/activityHub/widget",className:"nav-link "+(t.pathname.includes("activityHub")?"active":""),children:"Activity Hub"})})]})})}),(0,Y.jsx)("div",{className:"col-sm-8",children:(0,Y.jsxs)("div",{className:"d-flex justify-content-sm-end",children:[(0,Y.jsx)("div",{className:"ms-3",children:(0,Y.jsx)(r.A,{placement:"bottom",overlay:(0,Y.jsx)(d.A,{className:"my-custom-tooltip",children:"Reffresh"}),children:(0,Y.jsx)("button",{onClick:()=>{a((0,u._c)(m.trialAccessAPI))},className:"btn btn-outline-secondary py-2 px-4",type:"button",children:(0,Y.jsx)("span",{className:"svg-icon svg-icon-sm svg-icon-dark-75 me-0 "+(f&&f?"fa fa-spin":""),children:(0,Y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,Y.jsxs)("g",{id:"Group_4474","data-name":"Group 4474",transform:"translate(10951 -4712)",children:[(0,Y.jsx)("rect",{id:"Rectangle_2094","data-name":"Rectangle 2094",width:"24",height:"24",transform:"translate(-10951 4712)",fill:"none",opacity:"0"}),(0,Y.jsxs)("g",{id:"Group_1","data-name":"Group 1",transform:"translate(-10950 4715)",children:[(0,Y.jsx)("path",{id:"Path_17","data-name":"Path 17",d:"M17.617,40.968a6.864,6.864,0,0,1-3.843,1.155,6.966,6.966,0,0,1-6.929-6.059H8a1.027,1.027,0,0,0,.869-.474.9.9,0,0,0,0-.967L6.656,30.974a1,1,0,0,0-.869-.474h0a1.027,1.027,0,0,0-.869.474c-.778,1.25-1.933,3.277-2.122,3.556a1.344,1.344,0,0,0-.189.566.916.916,0,0,0,.961.967H4.814a8.994,8.994,0,0,0,8.962,7.993,8.833,8.833,0,0,0,4.9-1.438.955.955,0,0,0,.283-1.344,1.02,1.02,0,0,0-1.342-.307Z",transform:"translate(-2.605 -26.138)",fill:"#545454"}),(0,Y.jsx)("path",{id:"Path_18","data-name":"Path 18",d:"M42.874,19.993h-1.25A8.993,8.993,0,0,0,32.666,12a8.833,8.833,0,0,0-4.9,1.438.971.971,0,1,0,1.061,1.626,6.864,6.864,0,0,1,3.843-1.155A6.966,6.966,0,0,1,39.6,19.969H38.444a1.027,1.027,0,0,0-.869.474.9.9,0,0,0,0,.967l2.213,3.654a1,1,0,0,0,.869.474h0a1.027,1.027,0,0,0,.869-.474c.778-1.25,1.933-3.277,2.122-3.556a1.344,1.344,0,0,0,.189-.566.923.923,0,0,0-.963-.949Z",transform:"translate(-21.494 -12)",fill:"#545454"})]})]})})})})})}),e.activeTab||[3].includes(D)?null:(0,Y.jsx)("div",{className:"ms-3",children:p?(0,Y.jsx)(y,{}):null}),[3].includes(D)?null:(0,Y.jsx)("div",{className:"ms-3",children:(0,Y.jsx)(g.A,{onApply:(e,t)=>{a((0,u.j1)(h.selectedFeed,m.trialAccessAPI,{startDate:t.startDate,endDate:t.endDate})),F(t.startDate.format("DD-MM-YYYY")),k(t.endDate.format("DD-MM-YYYY"))},startDate:N,endDate:A,initialSettings:{locale:{format:"DD-MM-YYYY",separator:"-"},maxDate:I,showDropdowns:!0,startDate:N,endDate:A,ranges:{Today:[b()().format("DD-MM-YYYY"),b()().format("DD-MM-YYYY")],Yesterday:[b()().subtract(1,"days").format("DD-MM-YYYY"),b()().subtract(1,"days").format("DD-MM-YYYY")],"Last 7 Days":[b()().subtract(6,"days").format("DD-MM-YYYY"),b()().format("DD-MM-YYYY")],"Last 30 Days":[b()().subtract(29,"days").format("DD-MM-YYYY"),b()().format("DD-MM-YYYY")],"This Month":[b()().startOf("month").format("DD-MM-YYYY"),b()().endOf("month").format("DD-MM-YYYY")],"Last Month":[b()().subtract(1,"month").startOf("month").format("DD-MM-YYYY"),b()().subtract(1,"month").endOf("month").format("DD-MM-YYYY")]}},children:(0,Y.jsx)("button",{type:"button",className:"btn btn-outline-secondary py-2 px-4 btn-icon",id:"reportrange",children:(0,Y.jsx)(r.A,{placement:"bottom",overlay:(0,Y.jsx)(d.A,{className:"my-custom-tooltip",children:"Date Filter"}),children:(0,Y.jsx)("div",{className:"btn btn-outline-secondary py-2 px-4 btn-icon",children:(0,Y.jsx)("span",{className:"svg-icon svg-icon-sm svg-icon-dark-75",children:(0,Y.jsx)(i.A,{className:"h-75 align-self-end",src:(0,c.oK)("/svg/calendar-new.svg")})})})})})})})]})})]})})})})}},62575:(e,t,a)=>{a.d(t,{i$:()=>c,oK:()=>n,sl:()=>i});a(97929),a(70844),a(18399);var s=a(86178),l=a.n(s);const n=e=>"https://cloud.tagbox.com/app/analytics"+e,i=e=>{try{var t=e;if(e>=1e3){for(var a=Math.floor((""+e).length/3),s="",l=2;l>=1;l--){if(((s=parseFloat((0!=a?e/Math.pow(1e3,a):e).toPrecision(l)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}s%1!=0&&(s=s.toFixed(1)),t=s+["","K","M","B","T"][a]}return t}catch(n){return Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":Math.sign(e)*Math.abs(e)}},c=e=>l()(e).format("YYYY-MM-DD HH:mm:ss")}}]);
//# sourceMappingURL=5054.f8b7153a.chunk.js.map