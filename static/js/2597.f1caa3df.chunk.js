"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[2597],{32597:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var a=s(3686),i=s(86994),o=s(63645),n=s(6863),r=s(3951),l=s(30390),c=s(80409),d=s(89222),m=s(45276),p=s(9950),h=s(52867),v=s(39452),g=s(23047),x=s.n(g),b=s(59051),j=s.n(b),u=s(44414);class y extends p.PureComponent{constructor(e){var t;super(e);const s=this.props.contentAnalyticsData.newSeries[0].data,a=s&&Object.keys(s).length&&this.props.contentAnalyticsData.newSeries[0].data.length-1,i=s&&Object.keys(s).length&&this.props.contentAnalyticsData.newSeries[0].data;Intl.DateTimeFormat().resolvedOptions().timeZone;this.state={series:this.props.contentAnalyticsData.newSeries,options:{colors:["#546FED"],chart:{id:"area-datetime",toolbar:{show:!1},type:"line",animations:{enabled:!0,easing:"linear",dynamicAnimation:{speed:1e3}},height:350,zoom:{enabled:!1}},legend:{show:!0,position:"top",itemMargin:{horizontal:20,vertical:0}},dataLabels:{enabled:!1},markers:{size:4,style:"hollow"},stroke:{width:[4],curve:"straight"},xaxis:{type:"datetime",min:null===(t=this.props.contentAnalyticsData)||void 0===t?void 0:t.unixDate[0],labels:{formatter:e=>j()(e).format("HH:mm")},tooltip:{shared:!0,intersect:!1,formatter:function(e){return j()(e).format("DD-MM-YY HH:mm")}},tickPlacement:"on"},yaxis:{min:0,max:100,labels:{formatter:function(e){return Math.round(e)}}},annotations:{points:[{x:i?a&&i[a][0]:0,y:i?a&&i[a][1]:0,marker:{size:8,fillColor:"#546FED",strokeColor:"#2545d7",shape:"circle",cssClass:"blinking-marker"},label:{borderColor:"#546FED",offsetY:-10,offsetX:-10,style:{color:"#546FED",background:"transparent",zIndex:0}}}],yaxis:[{y:30,y2:0,borderColor:"transparent",fillColor:"#f7caca"},{y:60,y2:30,borderColor:"transparent",fillColor:"#f9debe"},{y:100,y2:60,borderColor:"transparent",fillColor:"#cfe7d5"}]},tooltip:{enabled:!0,x:{format:"dd MMM yyyy"},custom:e=>{let{series:t,seriesIndex:s,dataPointIndex:a,w:i}=e;const o=t[0][a];return a===i.globals.series[s].length-1?"":o<=30?`<div class="apexcharts-tooltip-item bg-red"><img src="https://cloud.tagbox.com/react-app/media/icons/emoji/emoji5.svg"><div><strong>Negative</strong><br/>${o}%</div></div>`:o<=60?`<div class="apexcharts-tooltip-item bg-yelow"><img src="https://cloud.tagbox.com/react-app/media/icons/emoji/emoji3.svg"><div><strong>Neutral</strong><br/>${o}%</div></div>`:`<div class="apexcharts-tooltip-item bg-green"><img src="https://cloud.tagbox.com/react-app/media/icons/emoji/emoji1.svg"><div><strong>Positive</strong><br/>${o}%</div></div>`}},grid:{show:!1}},responsive:[{options:{chart:{height:300}},options:{chart:{height:280}}}]}}render(){var e;const{contentAnalyticsData:t}=this.props,s=null===t||void 0===t?void 0:t.unixDate[(null===t||void 0===t||null===(e=t.unixDate)||void 0===e?void 0:e.length)-1];if(s){const e=x().getChartByID("area-datetime2");e&&e.zoomX(null===t||void 0===t?void 0:t.unixDate[0],null===t||void 0===t?void 0:t.unixDate[s-1])}return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(v.A,{options:this.state.options,series:this.state.series,type:"line",height:350})})}}var f=s(9805),N=s(98341),w=s(69643),k=s(42074);const D=e=>{const{live_trend:t,sentimentPost:s,loader:v,dateFilter:g,selectedWallFeed:x}=e,b=(0,N.wA)(),[D,A]=(0,p.useState)("trends"),[M,S]=(0,p.useState)(0),C=t.initiallastScore&&Object.keys(t.initiallastScore.length)?t.initiallastScore[0]:[];C&&C.sentiment>0&&(t.data[0]=Number(C.sentiment));const Y=t&&Object.keys(t).length?(0,h.qb)([t],1):[],{data:$}=s&&Object.keys(s).length?s[0]:[],F=$&&Object.keys($).length?[{post:$[0]["Strongly Positive"],type:"Strongly Positive",icon:"/emojis/emoji1.svg",value:0,color:"#25cb6b"},{post:$[0].Positive,type:"Positive",icon:"/emojis/emoji2.svg",value:0,color:"#50dca1"},{post:$[0].Neutral,type:"Neutral",icon:"/emojis/emoji3.svg",value:0,color:"#ffb143"},{post:$[0].Negative,type:"Negative",icon:"/emojis/emoji4.svg",value:0,color:"#ff6c7c"},{post:$[0]["Strongly Negative"],type:"Strongly Negative",icon:"/emojis/emoji5.svg",value:0,color:"#ff293a"}]:[];return(0,u.jsxs)(a.A,{className:"sw-card-custom gutter-b px-5 py-8 card-shadow mb-5",children:[(0,u.jsx)(i.A,{className:"p-0 border-0",children:(0,u.jsx)(o.A,{className:"mb-3",children:(0,u.jsxs)("h6",{class:"card-label font-weight-bolder",children:[(0,u.jsx)("img",{src:"https://socialwalls.com/wp-content/themes/socialwalls/assets/section-library/images/home/new/ai.svg",height:"20px",width:"20px"})," Sentiments Analysis"]})})}),(0,u.jsxs)(n.A,{className:"p-0 position-relative",children:["trends"==D?(0,u.jsx)("div",{className:"date-filter position-absolute end-0 top-0",children:(0,u.jsxs)(r.A.Select,{value:M,onChange:e=>{return t=e.target.value,S(t),void b((0,w.G9)(t));var t},size:"md",children:[(0,u.jsx)("option",{value:24,children:"Last 24 Hours"}),(0,u.jsx)("option",{value:48,children:"Last 48 Hours"})]})}):null,(0,u.jsxs)(l.A,{activeKey:D,onSelect:e=>{A(e)},defaultActiveKey:"trends",id:"uncontrolled-tab-example",className:"nav-tabs-line sw-custom-nav nav nav-tabs mb-5",children:[(0,u.jsx)(c.A,{eventKey:"trends",title:"Live Trends",children:(0,u.jsx)("div",{className:"card-body p-0 mb-0",children:v?(0,u.jsx)(f.A,{img:4}):(0,u.jsx)(y,{contentAnalyticsData:Y,type:"line"})})}),(0,u.jsx)(c.A,{eventKey:"statistics",title:"Statistics",children:(0,u.jsx)("div",{className:"card-body p-0 mb-0",children:(0,u.jsx)("div",{className:"sentiment-statistics py-8",children:(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)("div",{className:"col-md-3 col-2",children:F&&Object.keys(F).length&&F.map(((e,t)=>(0,u.jsx)("div",{className:"mb-7",children:(0,u.jsx)("div",{className:"d-flex align-items-center me-10 col-2",children:(0,u.jsxs)(k.N_,{className:"d-flex align-items-center d-block",to:x.length?`/moderation/index/${localStorage.getItem("wallId")}?sentiments=${t+1}/${j()(g.startDate).format("YYYY-MM-DD")}/${j()(g.endDate).format("YYYY-MM-DD")}`:"#",children:[(0,u.jsx)("div",{className:"svg-icon svg-icon-3x me-3",children:(0,u.jsx)(m.A,{src:(0,d.oK)(F[t].icon)})})," ",(0,u.jsx)("strong",{className:"text-dark d-md-block d-none text-nowrap",children:e.type})]})})})))}),(0,u.jsx)("div",{className:"col-md-9 col-10",children:(0,u.jsxs)("div",{className:"position-relative d-flex flex-column h-100 justify-content-between",children:[(0,u.jsx)("div",{className:"chart-bg d-flex",children:[0,10,20,30,40,50,60,70,80,90,100].map((e=>(0,u.jsx)("span",{children:e})))}),F&&Object.keys(F).length&&F.map(((e,t)=>{let s=[F[0].post,F[1].post,F[2].post,F[3].post,F[4].post].reduce(((e,t)=>e+t),0),a=parseInt(e.post)>0?e.post/s*100:0;return a=a.toFixed(1),(0,u.jsxs)("div",{className:"d-flex align-items-center mb-7 w-100",children:[(0,u.jsx)("div",{className:"w-0 opacity-0 d-flex align-items-center",children:(0,u.jsx)("div",{className:"svg-icon svg-icon-3x me-3",children:(0,u.jsx)(m.A,{src:(0,d.oK)(F[t].icon)})})}),(0,u.jsxs)("div",{className:`progress_sentiment progress w-100 h-auto position-relative pro_${t} ${a>86?"progress-tooltip-over":""} `,now:a,label:a,style:{background:"none"},children:[(0,u.jsx)("div",{role:"progressbar",className:"progress-bar me-5","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100",style:{width:`${a}%`,backgroundColor:F[t].color},children:(0,u.jsxs)("div",{className:"progress-tooltip-box progress_label d-flex align-items-start border-0 text-dark text-start shadow",children:[(0,u.jsx)(m.A,{src:(0,d.oK)(F[t].icon),width:20,height:20,className:"me-2"}),(0,u.jsxs)("div",{className:"toolitp-content",children:[(0,u.jsx)("div",{className:"font-size-xs",children:F[t].type}),(0,u.jsxs)("strong",{className:"font-size-sm",children:[F[t].post," Posts",(0,u.jsxs)("text",{style:{color:F[t].color},children:["(",a,"%)"]})]})]})]})}),(0,u.jsxs)("strong",{className:"font-size-sm",children:[e.post," Posts (",`${a}%`,")"]})]})]})}))]})})]})})})})]})]})]})},A=p.memo(D)},9805:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(9950),i=s(52867),o=s(44414);const n=e=>(0,o.jsx)("div",{className:"py-1 text-center",children:(0,o.jsx)("img",{className:"img-fluid",src:(0,i.pc)(`dashboard/analytic/content-analytis-${e.img}.svg`),width:"100%",height:"403px"})}),r=a.memo(n)},89222:(e,t,s)=>{s.d(t,{i$:()=>r,oK:()=>o,sl:()=>n});s(95432),s(43639),s(74467);var a=s(59051),i=s.n(a);const o=e=>"https://cloud.tagbox.com/app/analytics"+e,n=e=>{try{var t=e;if(e>=1e3){for(var s=Math.floor((""+e).length/3),a="",i=2;i>=1;i--){if(((a=parseFloat((0!=s?e/Math.pow(1e3,s):e).toPrecision(i)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}a%1!=0&&(a=a.toFixed(1)),t=a+["","K","M","B","T"][s]}return t}catch(o){return Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":Math.sign(e)*Math.abs(e)}},r=e=>i()(e).format("YYYY-MM-DD HH:mm:ss")}}]);