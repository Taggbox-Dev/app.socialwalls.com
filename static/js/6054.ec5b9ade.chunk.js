"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[6054],{16054:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(64757),o=t(47641),i=t(48588),r=t(35284),n=t(29853),l=t(39552),c=t(5328),d=t(62575),p=t(45248),m=t(65043),h=t(22030),g=t(22019),x=t(43606),v=t.n(x),b=t(70579);class u extends m.PureComponent{constructor(e){var s;super(e);const t=this.props.contentAnalyticsData.newSeries[0].data,a=t&&Object.keys(t).length&&this.props.contentAnalyticsData.newSeries[0].data.length-1,o=t&&Object.keys(t).length&&this.props.contentAnalyticsData.newSeries[0].data,i=o?o[a][1].toString().length:0,r=o?Math.ceil(Math.max(o[a][1])/Math.pow(10,i))*Math.pow(10,i):0,n=25*r/100,l=75*r/100;console.log(n,"myMaxvaluemyMaxvaluemyMaxvalue",l),this.state={series:this.props.contentAnalyticsData.newSeries,options:{colors:["#546FED"],chart:{id:"area-datetime",toolbar:{show:!1},type:"line",animations:{enabled:!0,easing:"linear",dynamicAnimation:{speed:1e3}},height:350,zoom:{enabled:!1},events:{mounted:e=>{console.log("Last Y-axis value:",o[a])}}},legend:{show:!0,position:"top",itemMargin:{horizontal:20,vertical:0}},dataLabels:{enabled:!1},markers:{size:4,style:"hollow"},stroke:{width:[4],curve:"straight"},xaxis:{type:"datetime",min:null===(s=this.props.contentAnalyticsData)||void 0===s?void 0:s.unixDate[0],tickAmount:6},annotations:{points:[{x:o?a&&o[a][0]:0,y:o?a&&o[a][1]:0,marker:{size:8,fillColor:"#546FED",strokeColor:"#2545d7",shape:"circle",cssClass:"blinking-marker"},label:{borderColor:"#546FED",offsetY:-10,offsetX:-10,style:{color:"#546FED",background:"transparent",zIndex:0}}}],yaxis:[{y:30,y2:0,borderColor:"transparent",fillColor:"#f7caca"},{y:60,y2:30,borderColor:"transparent",fillColor:"#f9debe"},{y:100,y2:30,borderColor:"transparent",fillColor:"#cfe7d5"}]},tooltip:{enabled:!0,x:{format:"dd MMM yyyy"},custom:e=>{let{series:s,seriesIndex:t,dataPointIndex:a,w:o}=e;const i=s[0][a];return i<=30?`<div style="padding: 10px; background: red; \n              border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);"><strong> <img src="https://cloud.tagbox.com/react-app/media/icons/emoji/emoji5.svg"> Negative</strong><br/>${i} %</div>`:i<=60?`<div style="padding: 10px; background: yellow; \n               border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);"><strong> <img src="https://cloud.tagbox.com/react-app/media/icons/emoji/emoji3.svg"> Average</strong><br/>${i} %</div>`:`<div style="padding: 10px; background: green; \n               border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);"><strong> <img src="https://cloud.tagbox.com/react-app/media/icons/emoji/emoji1.svg"> Positive</strong><br/>${i} %</div>`}},grid:{show:!1}},responsive:[{options:{chart:{height:300}},options:{chart:{height:280}}}]}}render(){var e;const{contentAnalyticsData:s}=this.props,t=null===s||void 0===s?void 0:s.unixDate[(null===s||void 0===s||null===(e=s.unixDate)||void 0===e?void 0:e.length)-1];if(t){const e=v().getChartByID("area-datetime2");e&&e.zoomX(null===s||void 0===s?void 0:s.unixDate[0],null===s||void 0===s?void 0:s.unixDate[t-1])}return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(g.A,{options:this.state.options,series:this.state.series,type:"line",height:350})})}}var y=t(9652),j=t(22166),f=t(50912);const w=e=>{const{live_trend:s,sentimentPost:t,loader:g}=e,x=(0,j.wA)(),[v,w]=(0,m.useState)("trends"),[N,A]=(0,m.useState)(0),k=s&&Object.keys(s).length?(0,h.rD)([s],1):[],{data:M}=t&&Object.keys(t).length?t[0]:[],D=M&&Object.keys(M).length?[{post:M[0]["Strongly Positive"],type:"Strongly Positive",icon:"/emojis/emoji1.svg",value:0,color:"#25cb6b"},{post:M[0].Positive,type:"Positive",icon:"/emojis/emoji2.svg",value:0,color:"#50dca1"},{post:M[0].Neutral,type:"Neutral",icon:"/emojis/emoji3.svg",value:0,color:"#ffb143"},{post:M[0].Negative,type:"Negative",icon:"/emojis/emoji4.svg",value:0,color:"#ff6c7c"},{post:M[0]["Strongly Negative"],type:"Strongly Negative",icon:"/emojis/emoji5.svg",value:0,color:"#ff293a"}]:[];return(0,b.jsxs)(a.A,{className:"sw-card-custom gutter-b px-5 py-8 card-shadow mb-5",children:[(0,b.jsx)(o.A,{className:"p-0 border-0",children:(0,b.jsx)(i.A,{className:"mb-3",children:(0,b.jsxs)("h6",{class:"card-label font-weight-bolder",children:[(0,b.jsx)("img",{src:"https://socialwalls.com/wp-content/themes/socialwalls/assets/section-library/images/home/new/ai.svg",height:"20px",width:"20px"})," Sentiments Analysis"]})})}),(0,b.jsxs)(r.A,{className:"p-0 position-relative",children:["trends"==v?(0,b.jsx)("div",{className:"date-filter position-absolute end-0 top-0",children:(0,b.jsxs)(n.A.Select,{value:N,onChange:e=>{return s=e.target.value,A(s),void x((0,f.G9)(s));var s},size:"md",children:[(0,b.jsx)("option",{value:24,children:"Last 24 Hours"}),(0,b.jsx)("option",{value:48,children:"Last 48 Hours"})]})}):null,(0,b.jsxs)(l.A,{activeKey:v,onSelect:e=>{w(e)},defaultActiveKey:"trends",id:"uncontrolled-tab-example",className:"nav-tabs-line sw-custom-nav nav nav-tabs mb-5",children:[(0,b.jsx)(c.A,{eventKey:"trends",title:"Live Trends",children:(0,b.jsx)("div",{className:"card-body p-0 mb-0",children:g?(0,b.jsx)(y.A,{img:4}):(0,b.jsx)(u,{contentAnalyticsData:k,type:"line"})})}),(0,b.jsx)(c.A,{eventKey:"statistics",title:"Statistics",children:(0,b.jsx)("div",{className:"card-body p-0 mb-0",children:(0,b.jsxs)("div",{className:"sentiment-statistics py-8",children:[(0,b.jsx)("div",{className:"chart-bg d-flex",children:[0,10,20,30,40,50,60,70,80,90,100].map((e=>(0,b.jsx)("span",{children:e})))}),D&&Object.keys(D).length&&D.map(((e,s)=>{let t=[D[0].post,D[1].post,D[2].post,D[3].post,D[4].post].reduce(((e,s)=>e+s),0),a=parseInt(e.post)>0?e.post/t*100:0;return a=a.toFixed(1),(0,b.jsxs)("div",{className:"d-flex align-items-center mb-7 w-100",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center me-10 col-2",children:[(0,b.jsx)("div",{className:"svg-icon svg-icon-3x me-3",children:(0,b.jsx)(p.A,{src:(0,d.oK)(D[s].icon)})})," ",(0,b.jsx)("strong",{className:"text-nowrap",children:e.type})]}),(0,b.jsxs)("div",{className:`progress_sentiment progress w-100 h-auto position-relative pro_${s}`,now:a,label:a,style:{background:"none"},children:[(0,b.jsx)("div",{role:"progressbar",className:"progress-bar me-5","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100",style:{width:`${a}%`,backgroundColor:D[s].color},children:(0,b.jsxs)("div",{className:"progress-tooltip-box progress_label d-flex align-items-start border-0 text-dark text-start shadow",children:[(0,b.jsx)(p.A,{src:(0,d.oK)(D[s].icon),width:20,height:20,className:"me-2"}),(0,b.jsxs)("div",{className:"toolitp-content",children:[(0,b.jsx)("div",{className:"font-size-xs",children:D[s].type}),(0,b.jsxs)("strong",{className:"font-size-sm",children:[D[s].post," Posts",(0,b.jsxs)("text",{style:{color:D[s].color},children:["(",a,"%)"]})]})]})]})}),(0,b.jsxs)("strong",{className:"font-size-sm",children:[e.post," Posts (",`${a}%`,")"]})]})]})}))]})})})]})]})]})},N=m.memo(w)},9652:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(65043),o=t(22030),i=t(70579);const r=e=>(0,i.jsx)("div",{className:"py-1 text-center",children:(0,i.jsx)("img",{className:"img-fluid",src:(0,o.pc)(`dashboard/analytic/content-analytis-${e.img}.svg`),width:"100%",height:"403px"})}),n=a.memo(r)},62575:(e,s,t)=>{t.d(s,{i$:()=>n,oK:()=>i,sl:()=>r});t(97929),t(70844),t(18399);var a=t(86178),o=t.n(a);const i=e=>"https://cloud.tagbox.com/app/analytics"+e,r=e=>{try{var s=e;if(e>=1e3){for(var t=Math.floor((""+e).length/3),a="",o=2;o>=1;o--){if(((a=parseFloat((0!=t?e/Math.pow(1e3,t):e).toPrecision(o)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}a%1!=0&&(a=a.toFixed(1)),s=a+["","K","M","B","T"][t]}return s}catch(i){return Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":Math.sign(e)*Math.abs(e)}},n=e=>o()(e).format("YYYY-MM-DD HH:mm:ss")}}]);
//# sourceMappingURL=6054.ec5b9ade.chunk.js.map